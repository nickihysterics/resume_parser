import unicodedata

def normalize_whitespace(text: str) -> str:
    """
    Унифицированная нормализация пробелов в тексте резюме.

    - Заменяет все пробельные символы Unicode (включая неразрывные, тонкие и другие спецпробелы) на обычный пробел.
    - Очищает каждую строку от пробелов по краям.
    - Сохраняет разделение на строки, но удаляет лишние пробелы внутри строк.

    :param text: Исходный текст из файла
    :return: Нормализованный текст с чистыми строками
    """
    # Приводим все символы из категории Zs (разделители) к обычному пробелу
    text = ''.join(
        ' ' if unicodedata.category(c).startswith('Z') else c
        for c in text
    )

    # Удаляем лишние пробелы по краям каждой строки
    lines = [line.strip() for line in text.split('\n')]
    
    return '\n'.join(lines)
